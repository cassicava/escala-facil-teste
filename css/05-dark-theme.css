html[data-theme="dark"] {
  /* ALTERAÇÃO: Fundo e card levemente mais claros */
  --bg: #1A1A1A;
  --fg: #e1e1e1;
  --muted: #a0a0a0;
  --card: #2A2A2A;
  --border: #4a4a4a;
  --topbar-bg: #000000;
  --shadow: 0 4px 18px rgba(0, 0, 0, .4);
}

html[data-theme="dark"] #sidebar {
  background-color: rgba(30, 30, 30, 0.75);
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

html[data-theme="dark"] .card {
  background-color: rgba(42, 42, 42, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

html[data-theme="dark"] .modal {
  background-color: var(--card);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

html[data-theme="dark"] .home-card {
  border: 1px solid rgba(255, 255, 255, 0.15);
}

html[data-theme="dark"] .regras-fieldset {
  background-color: rgba(0, 0, 0, 0.2);
}

html[data-theme="dark"] .tab-btn.active .tab-icon {
  background-color: var(--brand-2);
}

html[data-theme="dark"] label.invalid-label {
  color: #f87171;
}

html[data-theme="dark"] input.invalid,
html[data-theme="dark"] select.invalid {
  border-color: #f87171;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3);
}

html[data-theme="dark"] input:focus,
html[data-theme="dark"] select:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
}

html[data-theme="dark"] button {
  background-color: transparent;
}

/* ALTERAÇÃO: Garante cor branca no texto dos botões no estado padrão */
html[data-theme="dark"] button.primary {
  color: var(--fg);
}

html[data-theme="dark"] button.secondary {
  color: var(--fg);
}

html[data-theme="dark"] button.primary:hover {
  background: var(--brand);
  color: #fff;
}

html[data-theme="dark"] button.secondary:hover {
  background: var(--secondary);
  color: #fff;
}

html[data-theme="dark"] button.danger:hover {
  background: var(--danger);
  color: #fff;
}

html[data-theme="dark"] .tab-btn,
html[data-theme="dark"] .tab-btn:hover {
  background-color: transparent;
}


html[data-theme="dark"] .table thead th {
  background: #333333;
}

html[data-theme="dark"] .table .group-header.warning {
  background-color: #4a420c;
  color: #fef9c3;
}

html[data-theme="dark"] .escala-final-table tbody tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.03);
}

html[data-theme="dark"] .escala-final-table tbody tr:nth-child(even) td:first-child {
  background-color: rgba(255, 255, 255, 0.04);
}


html[data-theme="dark"] .check-inline:not(:has(input:checked)):hover {
  background-color: rgba(255, 255, 255, 0.05);
}

html[data-theme="dark"] .check-inline:has(input:checked) {
  border-color: var(--brand);
  background-color: var(--brand-2);
}

html[data-theme="dark"] .toggle-btn:hover:not(.active) {
  background-color: rgba(255, 255, 255, 0.05);
}

html[data-theme="dark"] .toggle-btn.active {
  background-color: var(--card);
  color: #60a5fa;
  border-color: #60a5fa;
}

html[data-theme="dark"] .dia-label:has(.dia-checkbox:checked) .dia-abrev,
html[data-theme="dark"] .turno-disponibilidade-dias .dia-selecionavel.selecionado-dia {
  color: #60a5fa;
}